<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Patient Details</title>
    <link rel="stylesheet" href="./assets/css/datatables.css" />
    <link rel="stylesheet" href="./assets/css/bootstrap.css" /><script src=".env"></script>
  </head>
  <body>
    <aside>
      <div class="top">
        <a href="./index.html" class="d-block">
          <img
            src="./assets/images/logo-white.svg"
            height="48px"
            class="logo"
            alt=""
          />
        </a>
        <ul class="list-unstyled ps-0 mb-0">
          <li class="side-link">
            <a href="./dashboard.html">
              <span class="material-symbols material-symbols-rounded"
                >team_dashboard</span
              >
              Dashboard
            </a>
          </li>
          <li class="side-link active">
            <a href="./registeredpatients.html">
              <span class="material-symbols material-symbols-rounded"
                >person</span
              >
              Patients
            </a>
          </li>
          <li class="side-link">
            <a href="./chat.html">
              <span class="material-symbols material-symbols-rounded"
                >mail</span
              >
              Messages
              <div class="badge">New</div>
            </a>
          </li>
          <li class="side-link">
            <a href="./profile.html">
              <span class="material-symbols material-symbols-rounded"
                >settings</span
              >
              Settings
            </a>
          </li>
        </ul>
      </div>
      <div class="bottom">
        <div class="side-link">
          <a href="">
            <span class="material-symbols material-symbols-rounded"
              >logout</span
            >
            Logout
          </a>
        </div>
      </div>
    </aside>
    <main>
      <header>
        <div class="container">
          <div class="search-container">
            <a href="" class="logo">Udatum</a>
            <button type="button" class="search" id="search">
              <span class="material-symbols material-symbols-rounded"
                >search</span
              >
            </button>
            <form action="" class="w-100">
              <input
                type="search"
                class="form-control w-100"
                name=""
                id=""
                placeholder="Search"
              />
              <button class="btn btn-primary rounded-pill">
                <span class="material-symbols material-symbols-rounded"
                  >search</span
                >
              </button>
            </form>
          </div>
          <div class="right">
            <div class="dropdown">
              <button
                type="button"
                class="notifications unread"
                type="button"
                id="dropdownMenuButton1"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                <span class="material-symbols material-symbols-rounded"
                  >notifications</span
                >
              </button>
              <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                <li><a class="dropdown-item" href="#">Action</a></li>
                <li><a class="dropdown-item" href="#">Another action</a></li>
                <li>
                  <a class="dropdown-item" href="#">Something else here</a>
                </li>
              </ul>
            </div>

            <button type="button" class="avatar unread" id="user-initials"></button>
            <button type="button" class="menu" id="menu">
              <span class="material-symbols material-symbols-rounded"
                >menu</span
              >
            </button>
          </div>
        </div>
      </header>
      <div class="container">
        <div class="top-bar">
          <div class="date-time" id="clock">
            <span class="me-4">11th December, 2022</span>
            <span>6:01 p.m</span>
          </div>
        </div>
      </div>
      <div class="content">
        <div class="patient-details-box bg-white mb-xl-5 mb-3">
          <div
            class="d-flex align-items-center justify-content-between flex-wrap"
          >
            <div class="left">
              <h5 class="fw-bold me-xl-5 me-4">Haseeb Ahmed Data Record</h5>
              <div class="d-inline-block">
                <h6 class="signup-hd">Sign Up Date</h6>
                <p class="signup-date">12/12/2022</p>
              </div>
            </div>
            <div class="right">
              <button
                class="btn btn-primary py-lg-2"
                data-bs-toggle="modal"
                data-bs-target="#addNote"
              >
                <span class="material-symbols material-symbols-rounded"
                  >add</span
                >
                Add New Note
              </button>
              <button
                class="btn btn-outline-primary py-lg-2"
                data-bs-toggle="modal"
                data-bs-target="#shareData"
              >
                <span class="material-symbols material-symbols-rounded"
                  >share</span
                >
                Share Data
              </button>
            </div>
          </div>
          <div class="row">
            <div class="col-xl-5 col-12">
              <table class="table table-borderless mb-0">
                <tbody>
                  <tr>
                    <th scope="col">Patient Email</th>
                    <td>haseeb@gmail.com</td>
                  </tr>
                  <tr>
                    <th scope="col">Birth Date</th>
                    <td>12/12/1997</td>
                  </tr>
                  <tr class="time-spend">
                    <th scope="col">Time Spent On Patient in Dec</th>
                    <td><div class="badge time-spent">05 hrs 32 mins</div></td>
                  </tr>
                  <tr class="time-spend">
                    <th scope="col">Medical Condition</th>
                    <td>High BP</td>
                  </tr>
                  <tr class="time-spend">
                    <th scope="col">Notes</th>
                    <td>
                      <a href="./notes.html" class="fw-normal"
                        >View All Notes</a
                      >
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <hr />
          <div class="d-flex align-items-center justify-content-between">
            <h5 class="fw-bold mb-4">Linked Devices</h5>
          </div>
          <div class="row">
            <div class="col-lg-6">
              <table class="linked-dev">
                <thead>
                  <tr>
                    <th scope="col">Device Name</th>
                    <th scope="col">Device ID</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>BP Meter</td>
                    <td>42414</td>
                  </tr>
                  <tr>
                    <td>Stethoscope</td>
                    <td>42414</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="col-lg-6">
              <table class="linked-dev">
                <thead>
                  <tr>
                    <th scope="col">Device Name</th>
                    <th scope="col">Device ID</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Pulse Oximeter</td>
                    <td>42414</td>
                  </tr>
                  <tr>
                    <td>Weight Scale</td>
                    <td>42414</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <!-- <div class="patient-details-box bg-white mb-xl-5 mb-3">
          <div class="linked-devices">
            <div class="devices">
              <div class="device">
                <img
                  src="./assets/images/stethoscope.png"
                  class="device-img"
                  alt=""
                />
                <h6 class="device-name">Classic Stethoscope</h6>
              </div>
              <div class="device">
                <img
                  src="./assets/images/smartwatch.png"
                  class="device-img"
                  alt=""
                />
                <h6 class="device-name">Samsung Smartwatch</h6>
              </div>
              <div class="device">
                <img
                  src="./assets/images/bp-meter.png"
                  class="device-img"
                  alt=""
                />
                <h6 class="device-name">BP Meter</h6>
              </div>
              <div class="device">
                <img
                  src="./assets/images/bp-meter.png"
                  class="device-img"
                  alt=""
                />
                <h6 class="device-name">BP Meter</h6>
              </div>
              <div class="device">
                <img
                  src="./assets/images/bp-meter.png"
                  class="device-img"
                  alt=""
                />
                <h6 class="device-name">BP Meter</h6>
              </div>
            </div>
            <button class="move forward">
              <span class="material-symbols material-symbols-rounded"
                >arrow_forward_ios</span
              >
            </button>
          </div>
        </div> -->
        <div class="patient-details-box bg-white mb-xl-5">
          <div>
            <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link"
                  id="weight-scale-tab"
                  data-bs-toggle="pill"
                  data-bs-target="#weight-scale"
                  type="button"
                  role="tab"
                  aria-controls="weight-scale"
                  aria-selected="false"
                >
                  Weight Scale
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link"
                  id="pulse-tab"
                  data-bs-toggle="pill"
                  data-bs-target="#pulse"
                  type="button"
                  role="tab"
                  aria-controls="pulse"
                  aria-selected="false"
                >
                  Pulse Oximeter
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link active"
                  id="heart-rate-tab"
                  data-bs-toggle="pill"
                  data-bs-target="#heart-rate"
                  type="button"
                  role="tab"
                  aria-controls="heart-rate"
                  aria-selected="false"
                >
                  Heart Rate
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link"
                  id="blood-pressure-tab"
                  data-bs-toggle="pill"
                  data-bs-target="#blood-pressure"
                  type="button"
                  role="tab"
                  aria-controls="blood-pressure"
                  aria-selected="false"
                >
                  Blood Pressure
                </button>
              </li>
              <li class="nav-item" role="presentation">
                <button
                  class="nav-link"
                  id="steps-tab"
                  data-bs-toggle="pill"
                  data-bs-target="#steps"
                  type="button"
                  role="tab"
                  aria-controls="steps"
                  aria-selected="false"
                >
                  Step Tracker
                </button>
              </li>
            </ul>
            <div class="tab-content profile-table" id="pills-tabContent">
              <div
                class="tab-pane fade show active"
                id="weight-scale"
                role="tabpanel"
                aria-labelledby="weight-scale-tab"
              ></div>
              <div
                class="tab-pane fade show active"
                id="pulse"
                role="tabpanel"
                aria-labelledby="pulse-tab"
              ></div>
              <div
                class="tab-pane fade show active"
                id="heart-rate"
                role="tabpanel"
                aria-labelledby="heart-rate-tab"
              >
                <div
                  class="d-flex align-items-center flex-md-nowrap flex-wrap justify-content-between"
                >
                  <div class="d-flex align-items-center gap-3 mb-3">
                    <div class="vector-icon blue">
                      <span
                        class="material-symbols material-symbols-rounded top-0"
                        >vital_signs</span
                      >
                    </div>
                    <h5 class="fw-bold">Heart Rate</h5>
                  </div>
                  <div
                    class="d-flex align-items-center flex-md-nowrap flex-wrap gap-3 mb-3"
                  >
                    <select
                      name=""
                      id=""
                      class="form-select fw-bold mb-2"
                      style="width: 145px"
                    >
                      <option value="">December</option>
                    </select>
                    <select
                      name=""
                      id=""
                      class="form-select fw-bold mb-2"
                      style="width: 145px"
                    >
                      <option value="">2022</option>
                    </select>
                    <button class="btn btn-primary px-xl-4 mb-2">
                      <span class="material-symbols material-symbols-rounded"
                        >print</span
                      >
                      Print
                    </button>
                  </div>
                </div>

                <div class="d-block w-100 mt-xl-5 mt-3" style="height: 300px">
                  <canvas id="myChart"></canvas>
                </div>
              </div>
              <div
                class="tab-pane fade"
                id="blood-pressure"
                role="tabpanel"
                aria-labelledby="blood-pressure-tab"
              ></div>
              <div
                class="tab-pane fade"
                id="steps"
                role="tabpanel"
                aria-labelledby="steps-tab"
              >
                <div class="patient-details-box bg-white mb-xl-5 mt-4">
                  <div
                    class="d-flex align-items-center flex-md-nowrap flex-wrap justify-content-between"
                  >
                    <div class="d-flex align-items-center gap-3 mb-3">
                      <div class="vector-icon green">
                        <span
                          class="material-symbols material-symbols-rounded top-0"
                          >footprint</span
                        >
                      </div>
                      <h5 class="fw-bold">Step Tracker</h5>
                    </div>
                    <div class="d-flex align-items-center gap-3 mb-3">
                      <select
                        name=""
                        id=""
                        class="form-select fw-bold mb-2"
                        style="width: 145px"
                      >
                        <option value="">December</option>
                      </select>
                      <select
                        name=""
                        id=""
                        class="form-select fw-bold mb-2"
                        style="width: 145px"
                      >
                        <option value="">2022</option>
                      </select>
                    </div>
                  </div>

                  <div class="d-block w-100 mt-xl-5 mt-3">
                    <div style="height: 300px">
                      <canvas id="myChart2"></canvas>
                    </div>
                    <div class="text-center mt-4">
                      <button class="btn btn-primary px-xl-4">
                        <span class="material-symbols material-symbols-rounded"
                          >print</span
                        >
                        Print
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Modal -->
    <div
      class="modal fade"
      id="addNote"
      tabindex="-1"
      aria-labelledby="addNoteLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header border-0">
            <h5 class="modal-title" id="addNoteLabel"></h5>
          </div>
          <div class="modal-body">
            <div class="text-center">
              <h5 class="fw-bold mb-4">ADD A NEW NOTE TO THIS PATIENT</h5>
              <table class="table table-borderless">
                <tbody>
                  <tr>
                    <th>Note</th>
                    <td>
                      <input type="text" class="form-control" />
                    </td>
                  </tr>
                </tbody>
              </table>
              <a href="" class="btn btn-primary btn-lg px-xl-4 mx-3">
                <span class="material-symbols material-symbols-rounded"
                  >add</span
                >
                Add Note
              </a>
              <button
                class="btn btn-outline-primary btn-lg px-xl-4 mx-3"
                data-bs-dismiss="modal"
              >
                Cancel
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal -->
    <div
      class="modal fade"
      id="shareData"
      tabindex="-1"
      aria-labelledby="shareDataLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header border-0">
            <h5 class="modal-title" id="shareDataLabel"></h5>
          </div>
          <div class="modal-body">
            <div class="text-center">
              <h5 class="fw-bold mb-4">SHARE DATA WITH OTHER DOCTORS</h5>
              <table class="table table-borderless">
                <tbody>
                  <tr>
                    <th>Email</th>
                    <td>
                      <input type="text" class="form-control" />
                    </td>
                  </tr>
                </tbody>
              </table>
              <a href="" class="btn btn-primary btn-lg px-xl-4 mx-3">
                <span class="material-symbols material-symbols-rounded"
                  >check</span
                >
                Share
              </a>
              <button
                class="btn btn-outline-primary btn-lg px-xl-4 mx-3"
                data-bs-dismiss="modal"
              >
                Cancel
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="./assets/js/all.js"></script>
    <script src="./assets/js/script.js"></script>
    <script src="./assets/js/datatables.js"></script>
    <script>
      $(document).ready(function () {
        if ($(window).width() < 768) {
          $("#search").click(function () {
            $(this).next().slideToggle();
          });
        }

        if ($(window).width() < 1100) {
          $("#menu").click(function () {
            $("aside").toggleClass("d-flex");
          });
        }
      });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
      const ctx = document.getElementById("myChart");

      new Chart(ctx, {
        type: "line",
        data: {
          labels: [
            "1st",
            "2nd",
            "3rd",
            "4th",
            "5th",
            "6th",
            "7th",
            "8th",
            "9th",
            "10th",
            "11th",
            "12th",
            "13th",
            "14th",
            "15th",
          ],
          datasets: [
            {
              data: [
                40, 30, 90, 85, 112, 126, 140, 135, 120, 120, 120, 130, 130,
                150, 80,
              ],
              borderWidth: 4,
              borderColor: "#1577F2",
              fill: {
                target: "origin",
                above: "rgba(192, 228, 255, 0.12)", // Area will be red above the origin
              },
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: false,
            },
          },
          elements: {
            point: {
              radius: 0,
            },
          },
          scales: {
            y: {
              beginAtZero: true,
              grid: {
                display: false,
              },
              ticks: {
                font: {
                  family: "Raleway", // Your font family
                  size: 14,
                },
              },
            },
            x: {
              grid: {
                display: false,
              },
              ticks: {
                font: {
                  family: "Raleway", // Your font family
                  size: 14,
                },
              },
            },
          },
          plugins: {
            legend: {
              labels: {
                // This more specific font property overrides the global property
                font: {
                  size: 16,
                  family: "'Raleway'",
                },
              },
            },
          },
        },
      });
    </script>
    <script>
      const ctx2 = document.getElementById("myChart2");

      new Chart(ctx2, {
        type: "line",
        data: {
          labels: [
            "1st",
            "2nd",
            "3rd",
            "4th",
            "5th",
            "6th",
            "7th",
            "8th",
            "9th",
            "10th",
            "11th",
            "12th",
            "13th",
            "14th",
            "15th",
          ],
          datasets: [
            {
              data: [
                40, 30, 90, 85, 112, 126, 140, 135, 120, 120, 120, 130, 130,
                150, 80,
              ],
              borderWidth: 4,
              borderColor: "#B2EA47",
              fill: {
                target: "origin",
                above: "#D6FFDA1D", // Area will be red above the origin
              },
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: false,
            },
          },
          elements: {
            point: {
              radius: 0,
            },
          },
          scales: {
            y: {
              beginAtZero: true,
              grid: {
                display: false,
              },
              ticks: {
                font: {
                  family: "Raleway", // Your font family
                  size: 14,
                },
              },
            },
            x: {
              grid: {
                display: false,
              },
              ticks: {
                font: {
                  family: "Raleway", // Your font family
                  size: 14,
                },
              },
            },
          },
          plugins: {
            legend: {
              labels: {
                // This more specific font property overrides the global property
                font: {
                  size: 16,
                  family: "'Raleway'",
                },
              },
            },
          },
        },
      });

      //  code for clock

$(document).ready(function() {
  // Update clock display every second
  setInterval(function() {
    var now = new Date();
    
    // Format date and time
    var date = now.toLocaleDateString('en-US', {day: 'numeric', month: 'long', year: 'numeric'});
    var hours = now.getHours();
    var minutes = now.getMinutes();
    var seconds = now.getSeconds();
    var ampm = hours >= 12 ? 'PM' : 'AM';
    hours = hours % 12;
    hours = hours ? hours : 12;
    minutes = minutes < 10 ? '0' + minutes : minutes;
    seconds = seconds < 10 ? '0' + seconds : seconds;
    var time = hours + ':' + minutes + ':' + seconds + ' ' + ampm;
    
    // Display date and time in clock element
    $('#clock').text(date + ' ' + time);
  }, 1000);
});
// code for logged-in user initials

$(document).ready(function() {
  // Check if user is logged in and display name initials
  var token = localStorage.getItem('token');
// Extract the user's name from the token
var name = JSON.parse(atob(token.split('.')[1])).name;

// Display the first two letters of the name in the designated element
var initials = name.substr(0, 2).toUpperCase();
$('#user-initials').text(initials);
});
    </script>
  </body>
</html>
