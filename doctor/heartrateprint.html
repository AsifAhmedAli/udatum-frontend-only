<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Heart Rate Print</title>
    <link rel="stylesheet" href="./assets/css/datatables.css" />
    <link rel="stylesheet" href="./assets/css/bootstrap.css" /><script src="env.js"></script>
  </head>
  <style>
    @page {
      size: 21cm 29.7cm;
      margin: 30mm 5mm 30mm 5mm;
      /* change the margins as you want them to be. */
    }
  </style>
  <body>
    <div class="notes">
      <div class="container">
        <div class="text-center header pt-4">
          <a href="./index.html" class="d-block">
            <img
              src="./assets/images/logo-dark.svg"
              height="48px"
              class="logo"
              alt=""
            />
          </a>
          <div class="float-end">
            <p class="date mb-0">26/12/12</p>
          </div>
        </div>
        <div class="note-box py-5">
          <table class="table">
            <thead>
              <tr>
                <th>Months</th>
                <th>No. of Data Points</th>
                <th>Time Spent</th>
                <th>Notes</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>January</td>
                <td>21</td>
                <td>3 hrs 5 minutes</td>
                <td>
                  <a href="">View Notes</a>
                </td>
              </tr>
              <tr>
                <td>February</td>
                <td>21</td>
                <td>3 hrs 5 minutes</td>
                <td>
                  <a href="">View Notes</a>
                </td>
              </tr>
              <tr>
                <td>March</td>
                <td>21</td>
                <td>3 hrs 5 minutes</td>
                <td>
                  <a href="">View Notes</a>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="text-center footer pb-4">
          <button class="btn btn-primary">
            <span class="material-symbols material-symbols-rounded">print</span>
            Print</button>
        </div>
      </div>
    </div>

    <script src="./assets/js/all.js"></script>
    <script src="./assets/js/script.js"></script>
    <script src="./assets/js/datatables.js"></script>
    <script>
      $(document).ready(function () {
// Attach click event handler to logout button
  $('#logout-btn').click(function(event) {
    event.preventDefault();
    // Display confirmation dialog using SweetAlert2
    Swal.fire({
      title: 'Are you sure you want to logout?',
      icon: 'warning',
      showCancelButton: true,
      confirmButtonColor: '#3085d6',
      cancelButtonColor: '#d33',
      confirmButtonText: 'Yes, logout'
    }).then((result) => {
      if (result.isConfirmed) {
        // If user confirms logout, get authentication token from local storage
        var token = localStorage.getItem('token');

        // Send POST request to logout API endpoint
        $.ajax({
          url: 'http://localhost:3000/doctor-logout',
          type: 'GET',
          headers: {
            'Authorization': 'Bearer ' + token
          },
          success: function(response) {
            // If logout successful, remove token from local storage and redirect to login page
            localStorage.removeItem('token');
localStorage.removeItem('id');
                      localStorage.removeItem('with_access_token');
                      localStorage.removeItem('with_refresh_token');
                      localStorage.removeItem('with_userid');
            window.location.href = './index.html';
          },
          error: function(xhr, status, error) {
            // If error occurred, display error message using SweetAlert2
            Swal.fire({
              title: 'Error',
              text: 'Logout failed: ' + error,
              icon: 'error',
              confirmButtonColor: '#3085d6',
              confirmButtonText: 'OK'
            });
          }
        });
      }
    });
  });
        if ($(window).width() < 768) {
          $("#search").click(function () {
            $(this).next().slideToggle();
          });
        }

        if ($(window).width() < 1100) {
          $("#menu").click(function () {
            $("aside").toggleClass("d-flex");
          });
        }
      });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
  var token = localStorage.getItem('token');
      console.log(token)
      if(token == null){
        window.location.replace("index.html");
      }
      else{
        $.ajax({
              type: "get",
              url: `${baseurl}/patient-list-of-a-doctor`,
              timeout: 0,
              headers: {
                "Authorization": `Bearer ${token}`,
                "Content-Type": "application/json",
              },
              success: function (response) {
                  // $("#div11").html(result);
                  console.log("success");
                  // document.getElementById("loader1").style.visibility = "hidden";
              },
              error: function(response) {
                // console.log(response);
                
                if(response.responseJSON.message == "Authentication failed"){
                  window.location.replace("index.html");
                    }
              }
          });
      }
      const ctx = document.getElementById("myChart");

      new Chart(ctx, {
        type: "line",
        data: {
          labels: [
            "1st",
            "2nd",
            "3rd",
            "4th",
            "5th",
            "6th",
            "7th",
            "8th",
            "9th",
            "10th",
            "11th",
            "12th",
            "13th",
            "14th",
            "15th",
          ],
          datasets: [
            {
              data: [
                40, 30, 90, 85, 112, 126, 140, 135, 120, 120, 120, 130, 130,
                150, 80,
              ],
              borderWidth: 4,
              borderColor: "#1577F2",
              fill: {
                target: "origin",
                above: "rgba(192, 228, 255, 0.12)", // Area will be red above the origin
              },
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: false,
            },
          },
          elements: {
            point: {
              radius: 0,
            },
          },
          scales: {
            y: {
              beginAtZero: true,
              grid: {
                display: false,
              },
              ticks: {
                font: {
                  family: "Raleway", // Your font family
                  size: 14,
                },
              },
            },
            x: {
              grid: {
                display: false,
              },
              ticks: {
                font: {
                  family: "Raleway", // Your font family
                  size: 14,
                },
              },
            },
          },
          plugins: {
            legend: {
              labels: {
                // This more specific font property overrides the global property
                font: {
                  size: 16,
                  family: "'Raleway'",
                },
              },
            },
          },
        },
      });
    </script>
    <script>
      const ctx2 = document.getElementById("myChart2");

      new Chart(ctx2, {
        type: "line",
        data: {
          labels: [
            "1st",
            "2nd",
            "3rd",
            "4th",
            "5th",
            "6th",
            "7th",
            "8th",
            "9th",
            "10th",
            "11th",
            "12th",
            "13th",
            "14th",
            "15th",
          ],
          datasets: [
            {
              data: [
                40, 30, 90, 85, 112, 126, 140, 135, 120, 120, 120, 130, 130,
                150, 80,
              ],
              borderWidth: 4,
              borderColor: "#B2EA47",
              fill: {
                target: "origin",
                above: "#D6FFDA1D", // Area will be red above the origin
              },
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: false,
            },
          },
          elements: {
            point: {
              radius: 0,
            },
          },
          scales: {
            y: {
              beginAtZero: true,
              grid: {
                display: false,
              },
              ticks: {
                font: {
                  family: "Raleway", // Your font family
                  size: 14,
                },
              },
            },
            x: {
              grid: {
                display: false,
              },
              ticks: {
                font: {
                  family: "Raleway", // Your font family
                  size: 14,
                },
              },
            },
          },
          plugins: {
            legend: {
              labels: {
                // This more specific font property overrides the global property
                font: {
                  size: 16,
                  family: "'Raleway'",
                },
              },
            },
          },
        },
      });
    </script>
  </body>
</html>
